<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Escribir en libertad</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/extra.css">
    <link rel="stylesheet" href="dist/escribe.css" id="theme">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
	<section><h1>Escribir en libertad</h1>
	  <h2>Sofware, cultura libre, git, GitHub y la nueva literatura.</h2>
	  <h3><code>@jjmerelo</code> para <a href='https://www.meetup.com/es-ES/GDGWonderCoders/'>GDG WonderCoders, Ciudad de México.</a></h3>
	</section>

	<section data-background='https://live.staticflickr.com/65535/50224981307_09b07bbacd_k_d.jpg'>><h1>¿Cómo se escribe?</h1>
	  <blockquote class='fragment'>Se trabaja con imaginación, intuición y una verdad aparente</blockquote>
	  <h3 class='fragment'>Juan Rulfo</h3>
	  <aside class='notes'>Tomado de http://www.eraseunavezqueseera.com/2019/09/04/frases-escritores-sobre-escribir/</aside>
	</section>

	<section><h1>La verdad tiene que salir fuera</h1>
	  <h2 class='fragment'>Escribir es como <em>rascarse una comezón</em></h2>
	  <h1 class='fragment'>Igual que el software libre</h1>
	</section>

	<section>
	  <blockquote>No existe la libertad, sino la búsqueda de la libertad, y esa búsqueda es la que nos hace libres.</blockquote>
	  
	  <h3>Carlos Fuentes</h3>
	  <aside class='notes'>Cita <a href='https://proverbia.net/autor/frases-de-carlos-fuentes'>de aquí</a></aside>
	</section>

	<section>
	  <section><h1>Vamos a escribir en libertad</h1></section>

	  <section><h1>La mejor</h1>
	    <h2 class='fragment'>posiblemente la única</h2>
	    <h1>forma de hacerlo</h1>
	  </section>
	</section>

	<!-- licencias -->
	<section>
	  <section><h1>La libertad se da mediante licencias.</h1>
	    <img src='https://upload.wikimedia.org/wikipedia/commons/2/2f/CC_BY-SA_3.0.png' alt='cc-by-sa'>
	    <aside class='notes'>Tomada de la wikipedia, es una licencia de cultura libre: sigue afirmando la autoría, pero además hace viral cualquier uso. La cultura libre ha existido durante mucho tiempo tanto en la literatura, como en la música; últimamente en la creación 3D. Desde tu libertad, contribuyes a la libertad de los demás; pueden usar tu obra como quieran, ponerle música, hacer una obra de teatro, lo que les dé la gana. Usar las fotos, lo que sea. Una obra CC puedes venderla, pero tienes que hacerlo sin restricción de derechos (DRM). Además, no cedes los derechos, por lo que entre otras cosas, conserva tu propia libertad.</aside>
	  </section>

	  <section data-background='https://live.staticflickr.com/65535/50225013087_2f95892e60_o_d.jpg'><h1 class='fragment'>✓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h1>
	    <h2>Primera novela con licencia libre en castellano</h2>
	    <aside class='notes'>Liberada en <a href='https://elpais.com/diario/2003/10/09/ciberpais/1065663623_850215.amp.html'>2003</a>, inicialmente tenía licencia GFDL, posteriormente una licencia CC-by-sa. Todavía se vende (poco) por Amazon, en una edición posterior. Lo cierto es que como experiencia estuvo bien, se escribe para que te lean, y se leyó, reseñó en diferentes sitios, y copió; una persona me envió quince páginas de correcciones. Pero esto es poco práctico, y no invita una colaboración espontánea. Hay qu eir un poco más allá. También, por ejemplo, apareció en el primer lector de tinta electrónica que se comercializó en España, el Papyre (al parecer, también se comercializó en <a href='http://shmconsultingmx.blogspot.com/2011/06/llega-la-mexico-papyre-el-primer.html'>2011 en México</a>), junto con una serie de obras de contenido libre, muchas sacadas de Proyecto Gutenberg o Cervantes Digital, llamada "Biblioteca Grammata Libre".</aside>
	  </section>
	  
	  <section>
	    <h1>Un paso más allá: fuentes abiertas</h1>
	    <aside class='notes'>Lo que implica que el fichero original de texto que se use para generar el definitivo debe estar disponible también para que lo copien. ¿Y dónde es más fácil hacerlo?</aside>
	  </section>
	</section>

	<section>
	  <section><h2>Software libre:</h2>
	    <h1 class='fragment'>¿Proceso o producto?</h1>
	    <aside class='notes'>Antes... una pequeña desviación.</aside>
	  </section>

	  <section><h1>Comer y rascar...</h1>
	    <h2 class='fragment'>y desarrollar software libre</h2>
	    <h3 class='fragment'>y escribir.</h3>
	    <h1>... todo es empezar </h1>
	  </section>

	  <section><h1>... Un proceso</h1>
	    <h2 class='fragment'>de mejora continua y aprendizaje en comunidad</h2>

	    <aside class='notes'>Por eso el concepto de "liberar" un software una vez que se ha "terminado" no encaja con el concepto de software libre: se nace libre, se mantiene libre, sigue siendo libre, sacando nuevas versiones cuando haya algún cambio significativo. Pero si el software libre es un proceso, ¿qué pasa con la literatura?</aside>
	  </section>

	</section>
	
	<!-- Escritura como proceso -->
	<section>

	  <section><blockquote>Hay que aprender a tachar</blockquote>
	    <h2>Juan Rulfo, sobre el proceso "perfectamente inexplicable" de escribir.</h2>

	    <aside class='notes'>Sacado de <a href='https://www.milenio.com/cultura/la-clave-esta-en-la-velocidad'>Milenio.com</a>, entre otros sitios. Escribir en libertad, igual que el software libre, es un proceso. </aside>
	  </section>

	  <section><h1>Donald M. Murray: la escritura se debe enseñar como <strong>proceso</strong>, no producto.</h1>
	    <aside class='notes'>Del <a href='https://en.wikipedia.org/wiki/Writing_process'>artículo de la wikipedia sobre el proceso de escritura.</a></aside>
	  </section>

	  <section><h1>Preescritura, escritura y re-escritura</h1>
	    <h2 class='notes'>O tachado...</h2>
	    <aside class='notes'>Estas son las tres fases que no se describen como lineales, sino que son simultáneas y repetidas múltiples veces: en un proceso que no tiene por qué terminar.</aside>
	  </section>

	  <section><h1>Más fácil con un sistema de control de fuentes.</h1>
	  </section>
	</section>

	<!-- Pre-escritura -->
	<section>

	  <section><blockquote>Escribir es un oficio. [La inspiración] se volatiliza instantáneamente si no se la trabaja</blockquote>
	    <h2>Angélica Gorodischer</h2>
	    <aside class='notes'>Angélica Gorodischer es una escritora argentina, y posiblemente una de las escritoras en español de ese género más importantes. Hasta el punto que la tradujo Ursula K. LeGuin</aside>
	  </section>
	  
	  <section><h1>Pre-escribir: Abre repo GitHub/GitLab</h1>
	    <h2>Un libro debe nacer libre</h2>
	    <aside class='notes'>GitHub pertenece a Microsoft, y el software que usa no es libre. GitLab pertenece a otra empresa privada, y libera el software usado en el sitio. GitHub es mucho más popular, y es donde tiene cuenta casi todo el mundo. Así que elige el que quieras; desde el punto de vista del uso ninguno es mejor ni peor, son muy similares.</aside>
	  </section>

	  <section><h1>Una vez creado...</h1>

	    <pre><code>git clone mi-repo/mi-novela</code></pre>
	  </section>

	  <section><h1>Usa Markdown para escribir</h1>
	    <h2>Y un simple editor de texto</h2>
	    <pre><code># TODO

* [x] Encontrar la voz.
* [ ] *Backstory* del personaje principal

## Investigación

* [ ] Estudiar historia del Congo en los años 50.</code></pre>
	    <aside class='notes'>GitHub y GitLab incluyen un editor de texto. En realidad, prácticamente todo lo necesario se puede hacer directamente en la web. </aside>
	  </section>

	  <section><img src='img/todo-md.png' alt='TODO renderizado' />
	    <aside class='notes'>El markdown se procesa automáticamente en GitHub o se puede convertir usando herramientas como MarkDown. Pero ya estamos escribiendo algo, aunque sea auxiliar, así que vamos a pasar a la fase siguiente, o vamos a hacerla a la vez.</aside>
	  </section>
	</section>

	<!-- Escribir -->
	<section>
	  <section><h1>Escribamos</h1>
	      <img src='img/comenzando.png' alt='comenzando a editar'>
	  </section>

	  <section><h1>Registremos lo escrito</h1>

	    <pre><code>git add texto.md
git commit -m "Un comienzo tan bueno como cualquiera"</code></pre>
	    <aside class='notes'>Guando "guardamos" el fichero en la web hicimos la misma operación. Ahora lo importante es que git nos permite añadir datos adicionales a todo lo que escribimos.</aside>
	  </section>

	  <section><h1>¿Qué hay en un mensaje de <em>commit</em>?</h1>
	    <h2 class='fragment'>Diario de escritura.</h2>
	    <h2 class='fragment'>Documentación de lo escrito.</h2>
	    <h2 class='fragment'>... Otra novela-espejo</h2>
	  </section>

	  <section><h1>En "Manny..."</h1>
	    <img src='img/blame.png' alt='Añade documentación'>
	  </section>

	  <section><h1><code>.gitconfig</code> imprescindible</h1>
<pre><code>[user]
        name = JJ Merelo
        email = jjmerelo@gmail.com
[alias]
        ci = commit
        st = status -sb
        ca = commit -am
[core]
        editor = emacs
[color]
        ui = true</code></pre>
<aside class='notes'>Editando el fichero o usando <code>git config</code>. Aparte de las abreviaturas que te sirven para hacer las cosas más rápidamente, lo importante es que definas un editor para los mensajes de commit; ya que lo haces, elige el mejor editor del mundo.</aside>
	  </section>
	  
<section><h1>Mensajes 50 + 80 + Markdown</h1>
  <pre><code>git commit -a # Salta tu editor configurado</code></pre>
</section>

<section><h1>O usa <em>git hooks</em></h1>
  <pre><code>lines = File.open(ARGV[0],'r').readlines
abort "La primera línea tiene más de 50 caracteres" if lines.shift.size > 50
abort "La segunda línea debe estar vacía" if lines.size > 0 and lines.shift.chop != ''
if lines.size > 0
  bad_lines = {}
  lines.each_with_index do |line,i|
    bad_lines[i+2] = line if line.size > 80
  end
  if bad_lines.keys.size > 0
    puts "Todas estas líneas tienen más de 80 caracteres", bad_lines.keys.join(", ")
    exit 255
  end
end</code></pre>
  <aside class='notes'>Se copia a <code>.git/hooks/commit_msg</code>; este script se ejecutará justo antes de crear el commit y no lo permitirá si no se cumplen las reglas. Pero no es el único que se puede pensar para controlar el proceso de escritura; en realidad no hay límites en lo que se puede testear (y aceptar o rechazar). La clave del script es que salga con un código de error correcto (0) si el commit está bien, cualquier otro código si no. Eso se consigue con la orden <code>abort</code> de Ruby.</aside>
</section>


<section data-background='img/commit.png' alt='escribiendo el mensaje de commit'>
  <aside class='notes'>Se puede abreviar también <code>commit -a</code> a cualquier otra cosa, como <code>coa</code> para que sea más corto. Es importante, en todo caso, una cierta disciplina en los mensajes de commit, para que realmente sean útiles al proceso de escritura, y ayuden al editor (si lo hay) o simplemente a ti mismo.</aside>
	</section>
	</section>

	<!-- reescritura -->
	<section>
	  <section>
	    <blockquote>La única clase de escritura es la reescritura</blockquote>
	    <h2>Ernest Hemingway</h2>
	    <blockquote>La buena escritura es reescritura</blockquote>
	    <h2>Truman Capote</h2>
	    <aside class='notes'>Carlos Ruiz Zafón decía: se escribe para uno mismo, se reescribe para los demás. Y es posible que sea así, pero lo cierto es que corregir, tachar como decía Juan Rulfo, es esencial al proceso de escritura, recordemos el "Hay que aprender a tachar" del mismo Juan.</aside>
	  </section>

	  <section><h2>☝ encontrar errores ortográficos.</h2>
	    <h1 class='fragment'>Usando tests unitarios e integración continua.</h1>
	    <aside class='notes'>Test unitarios son tests usados para funciones específicas de un programa. Integración continua permite, en este caso, añadir al texto cualquier fragmento nuevo. En el proceso de escritura, escritura y reescritura son simultáneos. Una herramienta de integración continua te permite ejecutar tests unitarios cada vez que "integras" (añades un commit) a tu novela.</aside>
	  </section>

	  <section><h2>Integración continua fácil: <code>.travis.yml</code></h2>
	   <pre><code data-line-numbers="1,3|5-7|11">language: perl
perl:
  - "5.16"
before_install:
  - sudo apt-get install libhunspell-1.3-0 libhunspell-dev
  - curl https://raw.githubusercontent.com/JJ/Test-Text/master/data/Spanish.aff -o Spanish.aff
  - curl https://raw.githubusercontent.com/SublimeText/Dictionaries/master/Spanish.dic -o Spanish.dic
install: cpanm Test::Text TAP::Harness
script: perl -MTAP::Harness -e 'use utf8;\
my $harness = TAP::Harness->new( { verbosity => 0} );\
die "FAIL" if $harness->runtests( "just_check.t" )->failed;'</pre></code>

	    <aside class='notes'> Esto es un fichero en YAML, que es un lenguaje bastante común en este tipo de cosas. Como regla rápida: los dos puntos separan clave de valor, los guiones indican diferentes elementos en un array. ¿Que por qué uso Perl? De hecho, comencé a usar Travis en una novela que usé, precisamente, para aprender cómo iban los mecanismos de integración continua y demás. Elegí Travis porque tenía soporte para 
	      Puede parecer complicado, pero en realidad es simplemente darte de alta en Travis, copia y pega. Lo único que hay que cambiar es el idioma, e ir editando el diccionario personal cada vez que haya una palabra que no encuentre. Al final, esto tiene (cierta) complicación una sola vez; las siguientes es simplemente crear el repo e ir copiando ficheros, como el siguiente (al que se llama).</aside>
	  </section>

	  <section><h1>Comprueba y ya está.</h1>
	    <pre><code data-line-numbers="1|2|3">use Test::Text;
for my $dir (qw(. pois) ) {
  my $tesxt = Test::Text->new($dir, ".", "Spanish", @_);
  $tesxt->check();
}
done_testing;
	    </code></pre>
	    <aside class='notes'>¿Recordáis la novela "Manny, the Magnificent Mechanical Man", que he mencionado anteriormente? Para que fuera fácil trabajar con ella, creé este módulo en Perl, que "limpia" Markdown (elimina código, por ejemplo) y le pasa el corrector ortográfico, indicándote las palabras que no conoce. Te permite tener un diccionario específico, usando por debajo un módulo que se llama <code>hunspell</code>. Parece complicado, pero en realidad es usar de forma extensiva las facilidades que te ofrece GitHub con sus "ganchos" a sistemas de integración continua como Travis (o, últimamente, GitHub actions).</aside>
	  </section>

	  <section data-background='img/travis.png'><h1>Pequeños traspiés...</h1>
	    <aside class='notes'>¿Es mejor hacerlo en esta fase que hacer que el editor automáticamente te marque las palabras que no conozca? Sí, porque así escribes de forma más fluida y conviertes la corrección en reescritura, reexaminando partes del texto que acabas de escribir (o no) y viendo si están bien construidas, o encajadas, o cómo encajan con el resto o con lo último que escribiste.</aside>
	  </section>
	</section>

	<section> <!-- concluyendo -->
	  <section><blockquote>Un libro no se termina se abandona</blockquote>
	    <h1>Gabriel García Márquez</h1>
	    <aside class='notes'>Sacado de <a href='https://cofradiadeescritoresdepuertorico.wordpress.com/2014/11/06/escribir-es-reescribir/'>aquí</a></aside>
	  </section>
	  
	  <section><blockquote>La industria convirtió a libros y escritores en objetos de mercado.</blockquote>
	    <h1>Laura Esquivel</h1>
	    <aside class='notes'>Extraído de <a href='https://fabiosa.es/las-15-frases-mas-memorables-de-laura-esquivel/'>este conjunto de citas.</a>.
	    </aside>
	  </section>

	  <section><h1>No abandonemos nuestros libros</h1>
	    <h1 class='fragment'>Liberemos la escritura</h1>
	    <h1 class='fragment'>Usando herramientas y licencias libres.</h1>
	  </section>

	</section>
      </div>

      </div>
    </div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
			    hash: true,
			    width: "99%",
			    history: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
